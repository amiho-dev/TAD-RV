<!-- ═══════════════════════════════════════════════════════════════════════
     AlertsView.xaml — Event log viewer for TAD.RV security alerts
     ═══════════════════════════════════════════════════════════════════════ -->
<UserControl x:Class="TadConsole.Views.AlertsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="{StaticResource PrimaryBrush}">

    <Grid Margin="32,28">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Page Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,24">
            <TextBlock Text="Alerts &amp; Logs"
                       Style="{StaticResource SectionHeader}"
                       FontSize="24" Margin="0,0,0,4" />
            <TextBlock Text="View TAD.RV security events from the Windows Event Log"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       FontSize="13" Margin="0,0,0,12" />

            <StackPanel Orientation="Horizontal">
                <Button Content="↻ Load Events"
                        Style="{StaticResource PrimaryButton}"
                        Command="{Binding RefreshCommand}"
                        Margin="0,0,8,0" Padding="16,8" FontSize="12" />
                <Button Content="Clear"
                        Style="{StaticResource DangerButton}"
                        Command="{Binding ClearCommand}"
                        Padding="16,8" FontSize="12" />
                <TextBlock Text="{Binding StatusText}"
                           Foreground="{StaticResource TextSecondaryBrush}"
                           FontSize="12" Margin="16,0,0,0"
                           VerticalAlignment="Center" />
            </StackPanel>
        </StackPanel>

        <!-- Main Content -->
        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="8" />
                <RowDefinition Height="200" />
            </Grid.RowDefinitions>

            <!-- Events Table -->
            <Border Grid.Row="0" Style="{StaticResource CardStyle}" Padding="0">
                <DataGrid Style="{StaticResource ModernDataGrid}"
                          ItemsSource="{Binding Events}"
                          SelectedItem="{Binding SelectedEvent}"
                          Margin="1">

                    <DataGrid.ColumnHeaderStyle>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="Background" Value="#0D1B2A" />
                            <Setter Property="Foreground" Value="{StaticResource TextSecondaryBrush}" />
                            <Setter Property="FontSize" Value="11" />
                            <Setter Property="FontWeight" Value="SemiBold" />
                            <Setter Property="Padding" Value="12,8" />
                            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}" />
                            <Setter Property="BorderThickness" Value="0,0,0,1" />
                        </Style>
                    </DataGrid.ColumnHeaderStyle>

                    <DataGrid.CellStyle>
                        <Style TargetType="DataGridCell">
                            <Setter Property="Padding" Value="12,6" />
                            <Setter Property="BorderThickness" Value="0" />
                            <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}" />
                            <Setter Property="FontSize" Value="12" />
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="DataGridCell">
                                        <Border Padding="{TemplateBinding Padding}"
                                                Background="{TemplateBinding Background}">
                                            <ContentPresenter VerticalAlignment="Center" />
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="{StaticResource AccentBrush}" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </DataGrid.CellStyle>

                    <DataGrid.RowStyle>
                        <Style TargetType="DataGridRow">
                            <Setter Property="Background" Value="Transparent" />
                            <Style.Triggers>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="{StaticResource AccentBrush}" />
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="{StaticResource SidebarActiveBrush}" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </DataGrid.RowStyle>

                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Time"
                                            Binding="{Binding TimeStamp, StringFormat='{}{0:yyyy-MM-dd HH:mm:ss}'}"
                                            Width="160" />
                        <DataGridTextColumn Header="Level"
                                            Binding="{Binding Level}"
                                            Width="80" />
                        <DataGridTextColumn Header="ID"
                                            Binding="{Binding EventId}"
                                            Width="70" />
                        <DataGridTextColumn Header="Source"
                                            Binding="{Binding Source}"
                                            Width="140" />
                        <DataGridTextColumn Header="Message"
                                            Binding="{Binding Message}"
                                            Width="*" />
                    </DataGrid.Columns>
                </DataGrid>
            </Border>

            <!-- Detail Pane -->
            <Border Grid.Row="2" Style="{StaticResource CardStyle}" Padding="0">
                <StackPanel Margin="16,12">
                    <TextBlock Text="Event Details"
                               FontSize="13" FontWeight="SemiBold"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               Margin="0,0,0,8" />
                    <TextBox Style="{StaticResource LogTextBox}"
                             Text="{Binding SelectedEventDetail, Mode=OneWay}"
                             Height="140"
                             Foreground="{StaticResource TextPrimaryBrush}" />
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</UserControl>
