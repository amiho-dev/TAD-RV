<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     DeployView.xaml â€” Deployment wizard replacing Deploy-TadRV.ps1
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<UserControl x:Class="TadConsole.Views.DeployView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:v="clr-namespace:TadConsole.Views"
             Background="{StaticResource PrimaryBrush}">

    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="32,28">
        <StackPanel MaxWidth="900">

            <!-- Page Header -->
            <TextBlock Text="Deployment"
                       Style="{StaticResource SectionHeader}"
                       FontSize="24" Margin="0,0,0,4" />
            <TextBlock Text="Deploy the TAD.RV kernel driver and bridge service"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       FontSize="13" Margin="0,0,0,24" />

            <!-- â”€â”€ Configuration Card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>
                    <TextBlock Text="Deployment Configuration"
                               FontSize="15" FontWeight="SemiBold"
                               Foreground="{StaticResource TextPrimaryBrush}"
                               Margin="0,0,0,16" />

                    <!-- Component Selection -->
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                        <CheckBox Style="{StaticResource ModernCheckBox}"
                                  Content="Install Kernel Driver"
                                  IsChecked="{Binding InstallDriver}"
                                  IsEnabled="{Binding IsIdle}"
                                  Margin="0,0,24,0" />
                        <CheckBox Style="{StaticResource ModernCheckBox}"
                                  Content="Install Bridge Service"
                                  IsChecked="{Binding InstallService}"
                                  IsEnabled="{Binding IsIdle}" />
                    </StackPanel>

                    <!-- Driver Path -->
                    <TextBlock Text="Driver Binary Path (TAD.RV.sys)"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               FontSize="12" Margin="0,0,0,6" />
                    <Grid Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBox Grid.Column="0"
                                 Style="{StaticResource ModernTextBox}"
                                 Text="{Binding DriverPath, UpdateSourceTrigger=PropertyChanged}"
                                 IsEnabled="{Binding IsIdle}" />
                        <Button Grid.Column="1" Content="Browseâ€¦"
                                Style="{StaticResource PrimaryButton}"
                                Command="{Binding BrowseDriverCommand}"
                                IsEnabled="{Binding IsIdle}"
                                Padding="14,8" Margin="8,0,0,0" FontSize="12" />
                    </Grid>

                    <!-- Service Path -->
                    <TextBlock Text="Service Publish Directory"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               FontSize="12" Margin="0,0,0,6" />
                    <Grid Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBox Grid.Column="0"
                                 Style="{StaticResource ModernTextBox}"
                                 Text="{Binding ServicePath, UpdateSourceTrigger=PropertyChanged}"
                                 IsEnabled="{Binding IsIdle}" />
                        <Button Grid.Column="1" Content="Browseâ€¦"
                                Style="{StaticResource PrimaryButton}"
                                Command="{Binding BrowseServiceCommand}"
                                IsEnabled="{Binding IsIdle}"
                                Padding="14,8" Margin="8,0,0,0" FontSize="12" />
                    </Grid>

                    <!-- Target Directory -->
                    <TextBlock Text="Target Installation Directory"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               FontSize="12" Margin="0,0,0,6" />
                    <Grid Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBox Grid.Column="0"
                                 Style="{StaticResource ModernTextBox}"
                                 Text="{Binding TargetDir, UpdateSourceTrigger=PropertyChanged}"
                                 IsEnabled="{Binding IsIdle}" />
                        <Button Grid.Column="1" Content="Browseâ€¦"
                                Style="{StaticResource PrimaryButton}"
                                Command="{Binding BrowseTargetCommand}"
                                IsEnabled="{Binding IsIdle}"
                                Padding="14,8" Margin="8,0,0,0" FontSize="12" />
                    </Grid>

                    <!-- Domain Controller -->
                    <TextBlock Text="Domain Controller (FQDN)"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               FontSize="12" Margin="0,0,0,6" />
                    <TextBox Style="{StaticResource ModernTextBox}"
                             Text="{Binding DomainController, UpdateSourceTrigger=PropertyChanged}"
                             IsEnabled="{Binding IsIdle}"
                             Margin="0,0,0,20" />

                    <!-- Deploy Button -->
                    <Button Content="ðŸš€  Deploy Now"
                            Style="{StaticResource SuccessButton}"
                            Command="{Binding DeployCommand}"
                            IsEnabled="{Binding IsIdle}"
                            HorizontalAlignment="Left"
                            FontSize="14" Padding="28,12" />
                </StackPanel>
            </Border>

            <!-- â”€â”€ Progress Card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                        <TextBlock Text="Progress"
                                   FontSize="15" FontWeight="SemiBold"
                                   Foreground="{StaticResource TextPrimaryBrush}" />
                        <TextBlock Text="{Binding StatusText}"
                                   Foreground="{StaticResource TextSecondaryBrush}"
                                   FontSize="12" Margin="16,2,0,0"
                                   VerticalAlignment="Center" />
                    </StackPanel>

                    <!-- Progress Bar -->
                    <Grid Margin="0,0,0,12" Height="6">
                        <Border Background="#0D1B2A" CornerRadius="3" />
                        <Border CornerRadius="3" HorizontalAlignment="Left">
                            <Border.Width>
                                <MultiBinding Converter="{x:Static v:DeployView.ProgressWidthConverter}">
                                    <Binding Path="Progress" />
                                    <Binding RelativeSource="{RelativeSource AncestorType=Grid}"
                                             Path="ActualWidth" />
                                </MultiBinding>
                            </Border.Width>
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                    <GradientStop Color="#3282B8" Offset="0" />
                                    <GradientStop Color="#27AE60" Offset="1" />
                                </LinearGradientBrush>
                            </Border.Background>
                        </Border>
                    </Grid>

                    <!-- Step Results -->
                    <ItemsControl ItemsSource="{Binding StepResults}" Margin="0,0,0,8">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal" Margin="0,4">
                                    <TextBlock FontFamily="Segoe MDL2 Assets" FontSize="12"
                                               Margin="0,0,8,0" VerticalAlignment="Center">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock">
                                                <Setter Property="Text" Value="&#xE73E;" />
                                                <Setter Property="Foreground" Value="{StaticResource SuccessBrush}" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Success}" Value="False">
                                                        <Setter Property="Text" Value="&#xE711;" />
                                                        <Setter Property="Foreground" Value="{StaticResource DangerBrush}" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                    <TextBlock Text="{Binding StepName}"
                                               Foreground="{StaticResource TextPrimaryBrush}"
                                               FontSize="12" Margin="0,0,12,0" />
                                    <TextBlock Text="{Binding Duration, StringFormat='{}{0:N1}s'}"
                                               Foreground="{StaticResource TextSecondaryBrush}"
                                               FontSize="11" />
                                </StackPanel>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </Border>

            <!-- â”€â”€ Log Output Card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>
                    <TextBlock Text="Deployment Log"
                               FontSize="15" FontWeight="SemiBold"
                               Foreground="{StaticResource TextPrimaryBrush}"
                               Margin="0,0,0,12" />
                    <Border CornerRadius="6" ClipToBounds="True">
                        <TextBox Style="{StaticResource LogTextBox}"
                                 Text="{Binding Log, Mode=OneWay}"
                                 Height="200" />
                    </Border>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</UserControl>
